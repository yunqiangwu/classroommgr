webpackJsonp([17],{143:function(a,b,c){"use strict";c.d(b,"c",function(){return d}),c.d(b,"d",function(){return f}),c.d(b,"a",function(){return i}),c.d(b,"b",function(){return j}),c.d(b,"e",function(){return l}),c.d(b,"f",function(){return m}),c.d(b,"g",function(){return n}),c.d(b,"h",function(){return o}),c.d(b,"i",function(){return p});var d="login",f="logout",i="fetchStudentGroups",j="fetchStudentByIds",l="startSignin",m="resetSignin",n="finishSignin",o="signin",p="saveSignin"},336:function(a,b,c){"use strict";var d=c(24),f=c.n(d),g=c(662);f.a.use(g.a),b.a=new g.a({routes:[{path:"/",redirect:"/index"},{path:"/index",component:function(j){return c.e(4).then(function(){var l=[c(670)];j.apply(null,l)}.bind(this)).catch(c.oe)},children:[{path:"/question",component:function(j){return c.e(14).then(function(){var l=[c(680)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/signinrecord",component:function(j){return c.e(5).then(function(){var l=[c(681)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/readme",alias:"/",component:function(j){return c.e(9).then(function(){var l=[c(673)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/signinsetting",component:function(j){return c.e(3).then(function(){var l=[c(682)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/startsignin",component:function(j){return c.e(10).then(function(){var l=[c(677)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/studentmgr",component:function(j){return c.e(8).then(function(){var l=[c(685)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/groupmgr",component:function(j){return c.e(12).then(function(){var l=[c(683)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/studentgroup",component:function(j){return c.e(13).then(function(){var l=[c(684)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/baseform",component:function(j){return c.e(15).then(function(){var l=[c(672)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/vueeditor",component:function(j){return c.e(2).then(function(){var l=[c(679)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/markdown",component:function(j){return c.e(0).then(function(){var l=[c(675)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/upload",component:function(j){return c.e(1).then(function(){var l=[c(678)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/basecharts",component:function(j){return c.e(6).then(function(){var l=[c(671)];j.apply(null,l)}.bind(this)).catch(c.oe)}},{path:"/mixcharts",component:function(j){return c.e(7).then(function(){var l=[c(676)];j.apply(null,l)}.bind(this)).catch(c.oe)}}]},{path:"/login",component:function(j){return c.e(11).then(function(){var l=[c(674)];j.apply(null,l)}.bind(this)).catch(c.oe)}}]})},337:function(a,b,c){"use strict";function d(B,C){return C?("string"==typeof C&&(C=C.split(",")),B.filter(function(D){return 0<=C.indexOf(D.id+"")})):B}var f=c(664),g=c.n(f),i=c(332),j=c.n(i),l=c(147),m=c.n(l),n=c(333),o=c.n(n),p=c(24),q=c.n(p),r=c(292),s=c(148),t=c.n(s),u=c(143),v=c(0),w=c.n(v),x=c(142),y=c.n(x),z,A=window.AppStaticParams;q.a.use(r.a),b.a=new r.a.Store({state:{userInfo:{},studentGroups:[],students:[],signRecords:[],currentSignRecord:{id:"",name:"",timeSpan:"00:01",result:{},groupName:"",signNum:0,totalNum:0}},getters:{isAuthenticated:function(C){return!!C.userInfo.username},currentUserName:function(C){return C.userInfo&&C.userInfo.username},studentGroups:function(C){return C.studentGroups}},mutations:{saveUserInfo:function(C,D){C.userInfo=D},saveStudentGroups:function(C,D){C.studentGroups=D},saveStudents:function(C,D){C.students=D},addSigninRecord:function(C,D){if(D.id){var E=C.signRecords.findIndex(function(F){return F.id===D.id});-1==E?C.signRecords.push(D):C.signRecords[E]=D}},saveCurrentSignRecord:function(C,D){C.currentSignRecord=D},signin:function(C,D){(0===C.currentSignRecord.result[D]||2===C.currentSignRecord.result[D])&&(q.a.set(C.currentSignRecord.result,D,1),C.currentSignRecord.signNum++)}},actions:(z={},g()(z,u.a,function(B){var C=B.commit,D=B.state;return D.userInfo.username&&0===D.studentGroups.length?t.a.post(A.mainUrl+"/group",{rows:1e3}).then(function(E){return C("saveStudentGroups",E.data.list||[]),E.data.list||[]}).catch(function(E){return o.a.reject(E)}):D.studentGroups}),g()(z,u.b,function(B,C){var D=B.commit,E=B.state;return E.userInfo.username&&0===E.students.length?t.a.post(A.mainUrl+"/users",{rows:1e3}).then(function(F){return D("saveStudents",F.data.list||[]),d(F.data.list||[],C)}).catch(function(F){return o.a.reject(F)}):d(E.students||[],C)}),g()(z,u.c,function(B,C){var D=B.commit;D("saveUserInfo",C)}),g()(z,u.d,function(B,C){var D=B.commit;return C?D("saveUserInfo",{}):t()({url:A.mainUrl+"/logout",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(){return D("saveUserInfo",{})}).catch(function(E){return console.log("Error: "+E),o.a.reject(E)})}),g()(z,u.e,function(B,C){var D=B.commit,E=B.state;return C.name||(C.name="\u7B7E\u5230 - "+w()().format("YYYY-MM-DD HH:mm:ss")),C.startTime=new Date,d(E.students||[]).forEach(function(F){delete F.signinState}),D("saveCurrentSignRecord",C),C}),g()(z,u.f,function(B){var C=B.commit,D=B.state;return C("saveCurrentSignRecord",{id:"",name:"",timeSpan:"00:01",result:{},groupName:"",startTime:new Date,signNum:0,totalNum:0}),D.currentSignRecord}),g()(z,u.g,function(B){var C=B.commit,D=B.state;return y.a.forEach(D.currentSignRecord.result,function(E,F,G){0===E&&(G[F]=2)}),D.currentSignRecord}),g()(z,u.h,function(B,C){var D=B.commit,E=B.state;1>=m()(E.currentSignRecord.result).length||D("signin",C+"")}),g()(z,u.i,function(B){var C=B.commit,D=B.state;D.currentSignRecord.id?D.currentSignRecord.__status="update":(D.currentSignRecord.id=D.currentSignRecord.startTime.getTime(),D.currentSignRecord.__status="add");var E=JSON.parse(j()(D.currentSignRecord));return E.result=j()(E.result),t.a.post(A.mainUrl+"/signinrecord/submit",[E]).then(function(F){return F.data.success?q.a.prototype.$message.info(F.data.message):console.log(F.data),delete D.currentSignRecord.__status,C("addSigninRecord",D.currentSignRecord)}).catch(function(F){return console.log("Error: "+F),o.a.reject(F)})}),z)})},338:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(147),f=c.n(d),g=c(24),i=c.n(g),j=c(438),l=c.n(j),m=c(337),n=c(336),o=c(668),p=c(403),q=c.n(p),r=c(292),s=c(443),t=c.n(s),u=c(141),v=c.n(u),w=c(445),x=c.n(w),y=c(373),z=c.n(y),A=q.a.Loading;i.a.use(q.a),i.a.prototype.$axios=o.a,i.a.prototype.AppStaticParams=AppStaticParams,i.a.prototype.isIPhone=function(){return-1<window.navigator.userAgent.indexOf("iPhone")},i.a.prototype.isAndroid=function(){return-1<window.navigator.userAgent.indexOf("Android")},i.a.prototype.loading=function(B){i.a.prototype._currentLoading=A.service({text:B,spinnerType:"snake"})},i.a.prototype.loaded=function(){i.a.nextTick(function(){return i.a.prototype._currentLoading&&i.a.prototype._currentLoading.close()})},n.a.beforeEach(function(B,C,D){if(/\/login/.test(B.path))return void D();if(!/\/login/.test(B.path)&&!m.a.getters.isAuthenticated)return void D({path:"/login",query:{redirect:B.fullPath}});if(i.a.prototype.loading("\u8FDE\u63A5\u4E2D..."),!i.a.prototype.$stomp){var E=x.a.over(new z.a(AppStaticParams.mainUrl+"/ws"));E.connect({},function(F){console.log(F),D()},function(F){alert(F),console.log(F),m.a.dispatch("logout",!0).then(function(){D("/login")})}),i.a.prototype.$stomp=E}else D()}),n.a.afterEach(function(){i.a.prototype.loaded()}),i.a.mixin({created:function(){var C=this,D=this.socketEvents;D&&f()(D).forEach(function(E){C.$stomp.subscribe(E,D[E].bind(C))})},beforeDestory:function(){var C=this.socketEvents;C&&this.$stomp.unsubscribe()}}),new i.a({router:n.a,store:m.a,render:function(C){return C(l.a)}}).$mount("#app"),document.addEventListener("touchmove",function(B){B.preventDefault()},!1)},364:function(a,b,c){b=a.exports=c(93)(void 0),b.i(c(366),""),b.i(c(365),""),b.push([a.i,"",""])},365:function(a,b,c){b=a.exports=c(93)(void 0),b.push([a.i,".header{background-color:#242f42}.login-wrap{background-size:cover;background-image:url("+c(367)+")}.plugins-tips{background:#eef1f6}.el-upload--text em,.plugins-tips a{color:#20a0ff}.pure-button{background:#20a0ff}",""])},366:function(a,b,c){b=a.exports=c(93)(void 0),b.push([a.i,"*{margin:0;padding:0}#app,.wrapper,body,html{width:100%;height:100%;overflow:hidden}body{font-family:Helvetica Neue,Helvetica,microsoft yahei,arial,STHeiTi,sans-serif}a{text-decoration:none}.content{background:none repeat scroll 0 0 #fff;position:absolute;left:250px;right:0;top:70px;bottom:0;width:auto;padding:40px;box-sizing:border-box;overflow-y:scroll}.content.full-screen{left:0;top:0}.crumbs{margin-bottom:20px}.pagination{margin:20px 0;text-align:right}.plugins-tips{padding:20px 10px;margin-bottom:20px}.el-button+.el-tooltip{margin-left:10px}.el-table td,.el-table th{padding:5px 18px}.el-table tr:hover{background:#f6faff}.mgb20{margin-bottom:20px}.move-enter-active,.move-leave-active{transition:opacity .5s}.move-enter,.move-leave{opacity:0}.form-box{width:600px}.form-box .line{text-align:center}.el-time-panel__content:after,.el-time-panel__content:before{margin-top:-7px}.ms-doc .el-checkbox__input.is-disabled+.el-checkbox__label{color:#333;cursor:pointer}.pure-button{width:150px;height:40px;line-height:40px;text-align:center;color:#fff;border-radius:3px}.g-core-image-corp-container .info-aside{height:45px}.el-upload--text{background-color:#fff;border:1px dashed #d9d9d9;border-radius:6px;box-sizing:border-box;width:360px;height:180px;cursor:pointer;position:relative;overflow:hidden}.el-upload--text .el-icon-upload{font-size:67px;color:#97a8be;margin:40px 0 16px;line-height:50px}.el-upload--text{color:#97a8be;font-size:14px;text-align:center}.el-upload--text em{font-style:normal}.ql-container{min-height:400px}.ql-snow .ql-tooltip{transform:translateX(117.5px) translateY(10px)!important}.editor-btn{margin-top:20px}",""])},367:function(a,b,c){a.exports=c.p+"static/img/bg.b80cfa0.jpg"},372:function(a){a.exports={name:"websocket",description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author:"Brian McKelvey <brian@worlize.com> (https://www.worlize.com/)",contributors:["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version:"1.0.24",repository:{type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage:"https://github.com/theturtle32/WebSocket-Node",engines:{node:">=0.8.0"},dependencies:{debug:"^2.2.0",nan:"^2.3.3","typedarray-to-buffer":"^3.1.2",yaeti:"^0.0.6"},devDependencies:{"buffer-equal":"^1.0.0",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.0.1"},config:{verbose:!1},scripts:{install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit",gulp:"gulp"},main:"index",directories:{lib:"./lib"},browser:"lib/browser.js",license:"Apache-2.0",_from:"websocket@1.0.24",_resolved:"http://registry.npm.taobao.org/websocket/download/websocket-1.0.24.tgz"}},438:function(a,b,c){c(441);var d=c(340)(null,c(439),null,null);a.exports=d.exports},439:function(a){a.exports={render:function(){var c=this,d=c.$createElement,f=c._self._c||d;return f("div",{attrs:{id:"app"}},[f("router-view")],1)},staticRenderFns:[]}},441:function(a,b,c){var d=c(364);"string"==typeof d&&(d=[[a.i,d,""]]),d.locals&&(a.exports=d.locals);c(339)("16a779ae",d,!0)},443:function(){},444:function(a,b,c){function d(i){return c(f(i))}function f(i){var j=g[i];if(!(j+1))throw new Error("Cannot find module '"+i+"'.");return j}var g={"./af":177,"./af.js":177,"./ar":184,"./ar-dz":178,"./ar-dz.js":178,"./ar-kw":179,"./ar-kw.js":179,"./ar-ly":180,"./ar-ly.js":180,"./ar-ma":181,"./ar-ma.js":181,"./ar-sa":182,"./ar-sa.js":182,"./ar-tn":183,"./ar-tn.js":183,"./ar.js":184,"./az":185,"./az.js":185,"./be":186,"./be.js":186,"./bg":187,"./bg.js":187,"./bn":188,"./bn.js":188,"./bo":189,"./bo.js":189,"./br":190,"./br.js":190,"./bs":191,"./bs.js":191,"./ca":192,"./ca.js":192,"./cs":193,"./cs.js":193,"./cv":194,"./cv.js":194,"./cy":195,"./cy.js":195,"./da":196,"./da.js":196,"./de":199,"./de-at":197,"./de-at.js":197,"./de-ch":198,"./de-ch.js":198,"./de.js":199,"./dv":200,"./dv.js":200,"./el":201,"./el.js":201,"./en-au":202,"./en-au.js":202,"./en-ca":203,"./en-ca.js":203,"./en-gb":204,"./en-gb.js":204,"./en-ie":205,"./en-ie.js":205,"./en-nz":206,"./en-nz.js":206,"./eo":207,"./eo.js":207,"./es":209,"./es-do":208,"./es-do.js":208,"./es.js":209,"./et":210,"./et.js":210,"./eu":211,"./eu.js":211,"./fa":212,"./fa.js":212,"./fi":213,"./fi.js":213,"./fo":214,"./fo.js":214,"./fr":217,"./fr-ca":215,"./fr-ca.js":215,"./fr-ch":216,"./fr-ch.js":216,"./fr.js":217,"./fy":218,"./fy.js":218,"./gd":219,"./gd.js":219,"./gl":220,"./gl.js":220,"./gom-latn":221,"./gom-latn.js":221,"./he":222,"./he.js":222,"./hi":223,"./hi.js":223,"./hr":224,"./hr.js":224,"./hu":225,"./hu.js":225,"./hy-am":226,"./hy-am.js":226,"./id":227,"./id.js":227,"./is":228,"./is.js":228,"./it":229,"./it.js":229,"./ja":230,"./ja.js":230,"./jv":231,"./jv.js":231,"./ka":232,"./ka.js":232,"./kk":233,"./kk.js":233,"./km":234,"./km.js":234,"./kn":235,"./kn.js":235,"./ko":236,"./ko.js":236,"./ky":237,"./ky.js":237,"./lb":238,"./lb.js":238,"./lo":239,"./lo.js":239,"./lt":240,"./lt.js":240,"./lv":241,"./lv.js":241,"./me":242,"./me.js":242,"./mi":243,"./mi.js":243,"./mk":244,"./mk.js":244,"./ml":245,"./ml.js":245,"./mr":246,"./mr.js":246,"./ms":248,"./ms-my":247,"./ms-my.js":247,"./ms.js":248,"./my":249,"./my.js":249,"./nb":250,"./nb.js":250,"./ne":251,"./ne.js":251,"./nl":253,"./nl-be":252,"./nl-be.js":252,"./nl.js":253,"./nn":254,"./nn.js":254,"./pa-in":255,"./pa-in.js":255,"./pl":256,"./pl.js":256,"./pt":258,"./pt-br":257,"./pt-br.js":257,"./pt.js":258,"./ro":259,"./ro.js":259,"./ru":260,"./ru.js":260,"./sd":261,"./sd.js":261,"./se":262,"./se.js":262,"./si":263,"./si.js":263,"./sk":264,"./sk.js":264,"./sl":265,"./sl.js":265,"./sq":266,"./sq.js":266,"./sr":268,"./sr-cyrl":267,"./sr-cyrl.js":267,"./sr.js":268,"./ss":269,"./ss.js":269,"./sv":270,"./sv.js":270,"./sw":271,"./sw.js":271,"./ta":272,"./ta.js":272,"./te":273,"./te.js":273,"./tet":274,"./tet.js":274,"./th":275,"./th.js":275,"./tl-ph":276,"./tl-ph.js":276,"./tlh":277,"./tlh.js":277,"./tr":278,"./tr.js":278,"./tzl":279,"./tzl.js":279,"./tzm":281,"./tzm-latn":280,"./tzm-latn.js":280,"./tzm.js":281,"./uk":282,"./uk.js":282,"./ur":283,"./ur.js":283,"./uz":285,"./uz-latn":284,"./uz-latn.js":284,"./uz.js":285,"./vi":286,"./vi.js":286,"./x-pseudo":287,"./x-pseudo.js":287,"./yo":288,"./yo.js":288,"./zh-cn":289,"./zh-cn.js":289,"./zh-hk":290,"./zh-hk.js":290,"./zh-tw":291,"./zh-tw.js":291};d.keys=function(){return Object.keys(g)},d.resolve=f,a.exports=d,d.id=444},668:function(a,b,c){"use strict";var d=c(333),f=c.n(d),g=c(332),i=c.n(g),j=c(148),l=c.n(j),m=c(337),n=c(143),o=c(336),p=c(142),q=c.n(p),r=c(665);l.a.defaults.timeout=5e3,l.a.defaults.withCredentials=!0,l.a.interceptors.request.use(function(s){return m.a.state.token&&(s.headers.Authorization="token "+m.a.state.token),"post"==s.method&&(q.a.isArray(s.data)?(s.data=i()(s.data),s.headers["Content-Type"]="application/json;charset=utf-8"):(s.data=r.stringify(s.data),s.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8")),s},function(s){return f.a.reject(s)}),l.a.interceptors.response.use(function(s){return s},function(s){if(s.response)switch(s.response.status){case 401:m.a.dispatch(n.d,!0).then(function(){o.a.replace({path:"/login",query:{redirect:o.a.currentRoute.fullPath}})},function(t){console.log(t),o.a.replace({path:"/login",query:{redirect:o.a.currentRoute.fullPath,err:t+""}})});}return f.a.reject(s.response)}),b.a=l.a},669:function(a,b,c){c(141),a.exports=c(338)}},[669]);